{# Map category names to proper class names (matching regenerate_init_files.py) #}
{%- set class_name_map = {'cmdb': 'CMDB', 'monitor': 'Monitor', 'log': 'Log', 'service': 'Service'} -%}
{%- set category_class = class_name_map.get(category_name, category_name|upper) -%}
"""Type stubs for {{ category_name.upper() }} category."""

from __future__ import annotations

from typing import TYPE_CHECKING

if TYPE_CHECKING:
    from hfortix_core.http.interface import IHTTPClient
{% for subcategory in subcategories %}
    from . import {{ subcategory.module_name }}
{% endfor %}

__all__ = [
    "{{ category_class }}",
    "{{ category_class }}DictMode",
    "{{ category_class }}ObjectMode",
]

class {{ category_class }}DictMode:
    """{{ category_name.upper() }} API category for dict response mode.
    
    This class is returned when the client is instantiated with response_mode="dict" (default).
    All endpoints return dict/TypedDict responses by default.
    """
    
{% for subcategory in subcategories %}
{% if subcategory.has_mode_classes %}
    {{ subcategory.attr_name }}: {{ subcategory.module_name }}.{{ subcategory.class_name }}DictMode
{% else %}
    {{ subcategory.attr_name }}: {{ subcategory.module_name }}.{{ subcategory.class_name }}  # No mode classes yet
{% endif %}
{% endfor %}

    def __init__(self, client: IHTTPClient) -> None:
        """Initialize {{ category_name.upper() }} category with HTTP client."""
        ...


class {{ category_class }}ObjectMode:
    """{{ category_name.upper() }} API category for object response mode.
    
    This class is returned when the client is instantiated with response_mode="object".
    All endpoints return FortiObject responses by default.
    """
    
{% for subcategory in subcategories %}
{% if subcategory.has_mode_classes %}
    {{ subcategory.attr_name }}: {{ subcategory.module_name }}.{{ subcategory.class_name }}ObjectMode
{% else %}
    {{ subcategory.attr_name }}: {{ subcategory.module_name }}.{{ subcategory.class_name }}  # No mode classes yet
{% endif %}
{% endfor %}

    def __init__(self, client: IHTTPClient) -> None:
        """Initialize {{ category_name.upper() }} category with HTTP client."""
        ...


# Base class for backwards compatibility
class {{ category_class }}:
    """{{ category_name.upper() }} API category."""
    
{% for subcategory in subcategories %}
    {{ subcategory.attr_name }}: {{ subcategory.module_name }}.{{ subcategory.class_name }}
{% endfor %}

    def __init__(self, client: IHTTPClient) -> None:
        """Initialize {{ category_name.upper() }} category with HTTP client."""
        ...
